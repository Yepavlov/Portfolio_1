<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="fa285aef-3b09-4b9c-b395-7f80e338c924" activeEnvironment="Default" name="Students" resourceRoot="" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="e5606984-e8a1-4524-ae5d-6c25c6e22e38" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://151.80.70.42:3000" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://151.80.70.42:3000</con:endpoint></con:endpoints><con:resource name="Users" path="/api/users" id="e8404458-02f3-4e9b-b16d-d5966e5da9ce"><con:settings/><con:parameters><con:parameter><con:name>{Data#MaxId}</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:method name="AddContact" id="9bd8aa53-852f-44b7-8f88-efd8b89cebdf" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="http://151.80.70.42/api/users">user:Response</con:element></con:representation><con:request name="Request 1" id="72585932-9e06-468b-b91c-94db5b0cd899" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:request></con:method><con:method name="GetMaxId" id="3e9c0eda-83bc-4e5b-b9a0-e7d0aa098565" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="Request 1" id="7b8ea86c-9adc-4344-8670-2a72da0f2090" mediaType="application/json"><con:settings/><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:request></con:method><con:method name="Rename(check)Contact" id="47b9001b-e832-46b3-92f8-704f98a2f351" method="PUT"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="e2545f99-a229-4b76-8e97-14d590b2b36d" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:request></con:method><con:method name="DeleteContact" id="21c80f98-3f91-4cf6-8357-33a475bbbdec" method="DELETE"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json</con:mediaType><con:status>404</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="3283ed16-5de3-41a6-8314-6f88452f4f0c" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="3f3d52e3-1fcc-4ac2-b326-5dda3abb49ea" name="Contacts"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="fe71ea38-2487-429d-9f82-de230316fe18" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddDeleteContact" searchProperties="true"><con:settings/><con:testStep type="properties" name="Data" id="5d86c54d-115b-4ef6-976f-62065b4eab2f"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>MaxId</con:name><con:value>197</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="AddContactStep" id="2ef0692b-5ce0-41e9-a033-667c1ac90489"><con:settings/><con:config service="http://151.80.70.42:3000" resourcePath="/api/users" methodName="AddContact" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AddContactStep" id="72585932-9e06-468b-b91c-94db5b0cd899" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request>{
    "name": "Glory",
    "phone": "123456789",
    "role": "Student"
}</con:request><con:originalUri>http://151.80.70.42/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e23799e7-7c39-4089-889d-d02a4eabc23e" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetMaxId" id="18599455-f15f-4b79-8378-2399f122c3a2"><con:settings/><con:config service="http://151.80.70.42:3000" resourcePath="/api/users" methodName="GetMaxId" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetMaxId" id="7b8ea86c-9adc-4344-8670-2a72da0f2090" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request/><con:originalUri>http://151.80.70.42/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3b150696-421d-4c4e-be13-2a8eb153d88a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetMaxId" id="24a55c80-654a-43eb-b804-c31e7a731acd"><con:settings/><con:config><script>import groovy.json.JsonSlurper


def jsonSlurper = new JsonSlurper()

def responseString =  testRunner.getTestCase().getTestStepByName("GetMaxId").getTestRequest().getResponseContentAsString()

def object = jsonSlurper.parseText(responseString)

def maxValue = object.stream().max(Comparator.comparing(v -> v.id)).get().id

testRunner.getTestCase().getTestStepByName("Data").setPropertyValue("MaxId", (maxValue).toString() )</script></con:config></con:testStep><con:testStep type="restrequest" name="RenameStep" id="3daab0b1-7fd3-404e-8f87-2c89330d20df"><con:settings/><con:config service="http://151.80.70.42:3000" resourcePath="/api/users" methodName="Rename(check)Contact" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="RenameStep" id="e2545f99-a229-4b76-8e97-14d590b2b36d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://151.80.70.42:3000</con:endpoint><con:request>{
    "id": ${Data#MaxId},
    "name": "Glorys",
    "phone": "123456789",
    "role": "Student",
    "strikes": "1",
    "location": ""
}</con:request><con:originalUri>http://151.80.70.42/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a33f7cfc-4c76-435d-a8d2-19f8df562772" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DeleteContactStep" id="b24010e2-9b60-446a-aec3-8f78d85ec527"><con:settings/><con:config service="http://151.80.70.42:3000" resourcePath="/api/users" methodName="DeleteContact" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteContactStep" id="3283ed16-5de3-41a6-8314-6f88452f4f0c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://151.80.70.42:3000/</con:endpoint><con:request>{
    "id": ${Data#MaxId},
    "name": "Glorys",
    "phone": "123456789",
    "role": "Student"
}</con:request><con:originalUri>http://151.80.70.42/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2138970e-1ffa-45bd-9761-4f35333a8c2e" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="CheckDeletedContactStep" id="368d4493-e37e-4b28-9042-060906ed3ca2"><con:settings/><con:config service="http://151.80.70.42:3000" resourcePath="/api/users" methodName="DeleteContact" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckDeletedContactStep" id="3283ed16-5de3-41a6-8314-6f88452f4f0c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://151.80.70.42:3000/</con:endpoint><con:request>{
    "id": ${Data#MaxId},
    "name": "Glorys",
    "phone": "123456789",
    "role": "Student"
}</con:request><con:originalUri>http://151.80.70.42/api/users</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2138970e-1ffa-45bd-9761-4f35333a8c2e" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>{Data#MaxId}</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>